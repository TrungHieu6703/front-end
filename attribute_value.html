<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Quản lý Thuộc Tính & Giá Trị</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f3f4f6;
      padding: 20px;
    }

    .container {
      background: white;
      border-radius: 8px;
      padding: 20px;
      max-width: 1000px;
      margin: auto;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    }

    h2 {
      margin-bottom: 20px;
      font-size: 22px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 20px;
    }

    th, td {
      border-bottom: 1px solid #ddd;
      padding: 10px;
      text-align: left;
    }

    th {
      background-color: #f9fafb;
    }

    .actions button {
      margin-right: 6px;
      padding: 6px 10px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }

    .edit-btn {
      background: #d1fae5;
      color: #065f46;
    }

    .delete-btn {
      background: #fee2e2;
      color: #991b1b;
    }

    .toggle-btn {
      background: #e0f2fe;
      color: #0369a1;
    }

    .attribute-values {
      display: none;
      background-color: #f9fafb;
    }

    .attribute-values td {
      padding: 10px 20px;
    }

    .value-list {
      margin-bottom: 10px;
    }

    .value-item {
      display: inline-flex;
      align-items: center;
      background: #e5e7eb;
      padding: 5px 10px;
      border-radius: 4px;
      margin-right: 5px;
      margin-bottom: 5px;
    }

    .value-item button {
      background: transparent;
      border: none;
      margin-left: 5px;
      color: #dc2626;
      cursor: pointer;
      font-size: 14px;
    }

    .add-section input {
      padding: 6px;
      width: 200px;
      margin-right: 5px;
    }

    .add-section button {
      padding: 6px 10px;
      background-color: #4CAF50;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>Quản lý Thuộc Tính & Giá Trị</h2>
    <table>
      <thead>
        <tr>
          <th>Tên Thuộc Tính</th>
          <th>ID</th>
          <th>Hành động</th>
        </tr>
      </thead>
      <tbody id="attribute-table">
        <!-- Dynamic rows here -->
      </tbody>
    </table>
  </div>

  <script>
    const attributes = [
      { id: '03caedf5-5221-4902-a55f-2a8d98e54573', name: 'RAM' },
      { id: '211de2b3-4701-4108-ac6e-72d0c1fa96ee', name: 'Chất liệu' },
      { id: '233bf179-120b-4fc5-8fb3-621d3bc892c0', name: 'Card đồ họa' },
      { id: '27860466-24b4-47fb-b64e-9180f76bc60d', name: 'CPU' }
    ];

    const attributeValues = {
      '03caedf5-5221-4902-a55f-2a8d98e54573': ['DDR4', 'DDR5'],
      '211de2b3-4701-4108-ac6e-72d0c1fa96ee': ['Nhôm', 'Nhựa'],
      '233bf179-120b-4fc5-8fb3-621d3bc892c0': ['GTX 1660', 'RTX 3060'],
      '27860466-24b4-47fb-b64e-9180f76bc60d': ['Core i5', 'Core i7']
    };

    function renderAttributes() {
      const table = document.getElementById('attribute-table');
      table.innerHTML = '';

      attributes.forEach(attr => {
        const row = document.createElement('tr');
        row.innerHTML = `
          <td>${attr.name}</td>
          <td>${attr.id}</td>
          <td class="actions">
            <button class="edit-btn">Sửa</button>
            <button class="delete-btn">Xóa</button>
            <button class="toggle-btn" onclick="toggleValues('${attr.id}', this)">Xem giá trị</button>
          </td>
        `;

        const valueRow = document.createElement('tr');
        valueRow.classList.add('attribute-values');
        valueRow.innerHTML = `
          <td colspan="3">
            <div class="value-list" id="values-${attr.id}">
              ${renderValueList(attr.id)}
            </div>
            <div class="add-section">
              <input type="text" placeholder="Giá trị mới..." id="input-${attr.id}" />
              <button onclick="addValue('${attr.id}')">Thêm</button>
            </div>
          </td>
        `;

        table.appendChild(row);
        table.appendChild(valueRow);
      });
    }

    function renderValueList(attrId) {
      return (attributeValues[attrId] || []).map((val, idx) => `
        <div class="value-item">
          ${val}
          <button onclick="removeValue('${attrId}', ${idx})">×</button>
        </div>
      `).join('');
    }

    function toggleValues(attrId, btn) {
      const row = btn.closest('tr').nextElementSibling;
      const isVisible = row.style.display === 'table-row';
      row.style.display = isVisible ? 'none' : 'table-row';
      btn.textContent = isVisible ? 'Xem giá trị' : 'Ẩn giá trị';
    }

    function addValue(attrId) {
      const input = document.getElementById(`input-${attrId}`);
      const value = input.value.trim();
      if (!value) return;

      if (!attributeValues[attrId]) attributeValues[attrId] = [];
      attributeValues[attrId].push(value);
      input.value = '';

      updateValueList(attrId);
    }

    function removeValue(attrId, index) {
      attributeValues[attrId].splice(index, 1);
      updateValueList(attrId);
    }

    function updateValueList(attrId) {
      const valueList = document.getElementById(`values-${attrId}`);
      valueList.innerHTML = renderValueList(attrId);
    }

    window.onload = renderAttributes;
  </script>
</body>
</html>
