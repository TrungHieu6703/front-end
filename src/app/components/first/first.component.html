<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ productDetail?.name || 'Chi ti·∫øt s·∫£n ph·∫©m' }}</title>
</head>
<body>
    <app-header></app-header>
    <div class="main">
        <div class="main-container">
            <div class="container flex">
                <div class="left" style="background-color: rgb(255,255,255); padding: 30px">
                        <h1 style="font-size: 22px;">{{ productDetail?.name }}</h1>
                        <span class="subtitle">New 100% - B·∫£o H√†nh 12 th√°ng t·∫°i Trung Tr·∫ßn</span>
                        <div class="card">
                            <p-galleria 
                                [value]="productImages" 
                                [showIndicators]="true" 
                                [showThumbnails]="false" 
                                [changeItemOnIndicatorHover]="true" 
                                [responsiveOptions]="responsiveOptions" 
                                [containerStyle]="{ 'max-width': '420px' }"> 
                                    <ng-template pTemplate="item" let-item>
                                        <div class="image-container">
                                            <img [src]="item.itemImageSrc" style="height: 250px; max-width: 100%; object-fit: contain;" />
                                        </div>
                                    </ng-template>
                            </p-galleria>
                        </div>
                    </div>
                    <div class="right" style="background-color: rgb(248,250,252)">
                        <h1 class="product-title">{{ productDetail?.name }}</h1>
                        <div class="product-rating">
                            <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                            <span>4.8 (128 ƒë√°nh gi√°)</span>
                        </div>
                        
                        <div class="price">
                            {{ formatPrice(productDetail?.price) }} 
                            <span class="original-price" *ngIf="productDetail?.originalPrice">{{ formatPrice(productDetail?.originalPrice) }}</span>
                            <span class="discount" *ngIf="productDetail?.originalPrice">{{ calculateDiscount(productDetail?.price, productDetail?.originalPrice) }}%</span>
                        </div>
                        
                        <div class="availability">
                            <span *ngIf="productDetail?.quantity > 0">‚úì C√≤n h√†ng - Giao h√†ng trong 24h</span>
                            <span *ngIf="productDetail?.quantity <= 0">‚úó H·∫øt h√†ng</span>
                        </div>
                        
                        <div class="action-buttons">
                            <button class="btn btn-primary" [disabled]="productDetail?.quantity <= 0">Mua ngay</button>
                            <button class="btn btn-secondary" [disabled]="productDetail?.quantity <= 0" (click)="addToCart(productDetail?.id)">Th√™m v√†o gi·ªè</button>
                        </div>
                        
                        <div class="promotion-section">
                            <h3 class="promotion-title">∆Øu ƒë√£i ƒë·∫∑c bi·ªát</h3>
                            <div class="promotion-items">
                                <div class="promotion-item">
                                    <div class="promotion-icon">üéÅ</div>
                                    <div>T·∫∑ng balo gaming ROG tr·ªã gi√° 1.200.000ƒë</div>
                                </div>
                                <div class="promotion-item">
                                    <div class="promotion-icon">üéÅ</div>
                                    <div>Chu·ªôt gaming ASUS ROG Gladius III tr·ªã gi√° 1.900.000ƒë</div>
                                </div>
                                <div class="promotion-item">
                                    <div class="promotion-icon">üéÅ</div>
                                    <div>Gi·∫£m 50% khi mua Office Home & Student 2024</div>
                                </div>
                                <div class="promotion-item">
                                    <div class="promotion-icon">üéÅ</div>
                                    <div>Tr·∫£ g√≥p 0% l√£i su·∫•t trong 12 th√°ng</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div>
                    <h2 style="text-align: center; font-size: 32px;">Th√¥ng S·ªë Ch√≠nh</h2>
                </div>
                <div class="content-detail" style="background-color: rgb(248,250,252);"> 
                    <div class="detail-left">
                        <p-card>
                            <div [innerHTML]="productDetail?.description"></div>
                        </p-card>
                    </div>
                    <div class="detail-right">
                        <p-card>
                          <div style="height: 90px;">
                            <h2 style="text-align: center; align-items: center; font-size: 17px; color: rgb(9,139,246)">Th√¥ng S·ªë k·ªπ thu·∫≠t</h2>
                          </div>
                          <div class="p-grid">
                            <div class="p-col-12">
                              <table class="w-full spec-table">
                                <tbody>
                                  <tr *ngFor="let attribute of productAttributes">
                                    <td class="font-medium p-2">{{ attribute.key }}</td>
                                    <td class="p-2" style="color: rgb(131, 135, 142); font-weight: 400;">
                                      {{ attribute.value }}
                                    </td>
                                  </tr>
                                </tbody>
                              </table>
                            </div>
                          </div>
                        </p-card>
                      </div>  
                </div>
        </div>
    </div>
</body>
</html>